<div ng-controller="mainProvidersController" >
  <a ng-init="checkProvider()" />
  <div ng-if="readyCheckProvider">
    <div ng-if="selectedProvider == awsProvider" ng-controller="awsProviderController">
      <div id="treeTenantsAWS" class="treeProviders">
        <ul>
           <li data-jstree='{"icon":"public/css/img/provider_aws.png"}'><a class="inactiveLink">{{controller}} tenant(s)</a>
             <ul ng-repeat="tenant in tenants">
               <li id="{{tenant.uuid}};{{tenant.name}}" data-jstree='{"icon":"public/css/img/tenant.png"}'>{{tenant.tenant_name}} / {{tenant.tenant_region}}</li>
             </ul>
           </li>
        </ul>
      </div>
      <form ng-if="displayRessources">
        <fieldset class="chartDisplayBorder">
          <legend class="chartDisplayBorder">{{selectedTenant}}</legend>
          <div ng-repeat="res in ressources" on-finish-render="ngRepeatFinished">
            <div id="treeTenant{{res.nameBis}}">
              <ul>
                 <li data-jstree='{"icon":"public/css/img/{{res.imgPath}}"}'><a class="inactiveLink">{{res.name}}</a>
                   <ul ng-repeat="val in res.values">
                     <li id="{{val.uuid}};{{val.name}}" data-jstree='{"icon":"public/css/img/ressources_default.png"}'><a>{{val.name}}</a>
                       <ul ng-repeat="obj in objects[val.name]">
                         <li id='{{obj.id}},{{obj.name}}' data-jstree='{"icon":"public/css/img/objects_default.png"}'>{{obj.name}}</li>
                       </ul>
                     </li>
                   </ul>
                 </li>
              </ul>
            </div>
            <hr ng-if="$index < ressources.length-1">
          </div>
        </fieldset>
      </form>
    </div>
    <div ng-if="selectedProvider == azureProvider" ng-controller="azureProviderController">
      <div id="treeTenantsAzure" class="treeProviders">
        <ul>
           <li data-jstree='{"icon":"public/css/img/provider_azure.png"}'><a class="inactiveLink">{{controller}} tenant(s)</a>
             <ul ng-repeat="tenant in tenants">
               <li id="{{tenant.uuid}};{{tenant.name}}" data-jstree='{"icon":"public/css/img/tenant.png"}'>{{tenant.tenant_name}} / {{tenant.tenant_region}}</li>
             </ul>
           </li>
        </ul>
      </div>
      <form ng-if="displayRessources">
        <fieldset class="chartDisplayBorder">
          <legend class="chartDisplayBorder">{{selectedTenant}}</legend>
          <div ng-repeat="res in ressources" on-finish-render="ngRepeatFinished">
            <div id="treeTenant{{res.nameBis}}">
              <ul>
                 <li data-jstree='{"icon":"public/css/img/{{res.imgPath}}"}'><a class="inactiveLink">{{res.name}}</a>
                   <ul ng-repeat="val in res.values">
                     <li id="{{val.uuid}}" data-jstree='{"icon":"public/css/img/ressources_default.png"}'>{{val.name}}</li>
                   </ul>
                 </li>
              </ul>
            </div>
            <hr ng-if="$index < ressources.length-1">
          </div>
        </fieldset>
      </form>
    </div>
    <div ng-if="selectedProvider == fcaProvider" ng-controller="fcaProviderController">
      <div id="treeTenantsFCA" class="treeProviders">
        <ul>
           <li data-jstree='{"icon":"public/css/img/provider_fca.png"}'><a class="inactiveLink">{{controller}} tenant(s)</a>
             <ul ng-repeat="tenant in tenants">
               <li id="{{tenant.uuid}};{{tenant.name}}" data-jstree='{"icon":"public/css/img/tenant.png"}'>{{tenant.tenant_name}} / {{tenant.tenant_region}}</li>
             </ul>
           </li>
        </ul>
      </div>
      <form ng-if="displayRessources">
        <fieldset class="chartDisplayBorder">
          <legend class="chartDisplayBorder">{{selectedTenant}}</legend>
          <div ng-repeat="res in ressources" on-finish-render="ngRepeatFinished">
            <div id="treeTenant{{res.nameBis}}">
              <ul>
                 <li data-jstree='{"icon":"public/css/img/{{res.imgPath}}"}'><a class="inactiveLink">{{res.name}}</a>
                   <ul ng-repeat="val in res.values">
                     <li id="{{val.uuid}}" data-jstree='{"icon":"public/css/img/ressources_default.png"}'>{{val.name}}</li>
                   </ul>
                 </li>
              </ul>
            </div>
            <hr ng-if="$index < ressources.length-1">
          </div>
        </fieldset>
      </form>
    </div>
    <div ng-if="selectedProvider == feProvider" ng-controller="feProviderController">
      <div id="treeTenantsFE" class="treeProviders">
        <ul>
           <li data-jstree='{"icon":"public/css/img/provider_fe.png"}'><a class="inactiveLink">{{controller}} tenant(s)</a>
             <ul ng-repeat="tenant in tenants">
               <li id="{{tenant.uuid}};{{tenant.name}}" data-jstree='{"icon":"public/css/img/tenant.png"}'>{{tenant.tenant_name}} / {{tenant.tenant_region}}</li>
             </ul>
           </li>
        </ul>
      </div>
      <form ng-if="displayRessources">
        <fieldset class="chartDisplayBorder">
          <legend class="chartDisplayBorder">{{selectedTenant}}</legend>
          <div ng-repeat="res in ressources" on-finish-render="ngRepeatFinished">
            <div id="treeTenant{{res.nameBis}}">
              <ul>
                 <li data-jstree='{"icon":"public/css/img/{{res.imgPath}}"}'><a class="inactiveLink">{{res.name}}</a>
                   <ul ng-repeat="val in res.values">
                     <li id="{{val.uuid}}" data-jstree='{"icon":"public/css/img/ressources_default.png"}'>{{val.name}}</li>
                   </ul>
                 </li>
              </ul>
            </div>
            <hr ng-if="$index < ressources.length-1">
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</div>
